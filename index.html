<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
    <title>Constellation Hub</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/vue@3/dist/vue.global.prod.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <script src="https://unpkg.com/lucide@latest"></script>
    <style>
        [v-cloak] { display: none; }
        body { background-color: #020617; color: white; }
        .module-card { background: rgba(15, 23, 42, 0.7); backdrop-filter: blur(20px); border: 1px solid rgba(255,255,255,0.08); transition: all 0.3s ease; }
        .module-card:active { transform: scale(0.95); background: rgba(59, 130, 246, 0.1); }
    </style>
</head>
<body class="font-sans antialiased">

<div id="app" v-cloak class="min-h-screen flex flex-col p-8">
    
    <div v-if="!session" class="flex-1 flex flex-col items-center justify-center">
        <div class="mb-12 text-center">
            <h1 class="text-5xl font-black tracking-tighter uppercase italic text-blue-500">Constellation</h1>
            <p class="text-slate-500 text-[10px] tracking-[0.4em] uppercase mt-4 font-black">Performance Cluster</p>
        </div>
        <div class="w-full max-w-sm space-y-4">
            <input type="email" v-model="auth.email" placeholder="Email" class="w-full bg-slate-900 border border-slate-800 rounded-2xl py-5 px-8 outline-none focus:ring-2 focus:ring-blue-500">
            <input type="password" v-model="auth.password" placeholder="Password" class="w-full bg-slate-900 border border-slate-800 rounded-2xl py-5 px-8 outline-none focus:ring-2 focus:ring-blue-500">
            <button @click="handleAuth" class="w-full bg-blue-600 py-5 rounded-2xl font-black text-xl shadow-xl">LOG IN</button>
        </div>
    </div>

    <div v-else class="space-y-6">
        <header class="flex justify-between items-center mb-12">
            <h1 class="text-3xl font-black italic text-blue-500">HUB</h1>
            <button @click="signOut" class="text-slate-500"><i data-lucide="log-out"></i></button>
        </header>

        <div class="grid grid-cols-1 gap-4">
            <a href="today.html" class="module-card p-8 rounded-[2.5rem] flex items-center justify-between">
                <div>
                    <h2 class="text-2xl font-black uppercase italic">Readiness</h2>
                    <p class="text-xs text-slate-500 font-bold uppercase tracking-widest">Morning Pulse</p>
                </div>
                <i data-lucide="zap" class="text-yellow-500 w-8 h-8"></i>
            </a>

            <a href="gym.html" class="module-card p-8 rounded-[2.5rem] flex items-center justify-between">
                <div>
                    <h2 class="text-2xl font-black uppercase italic">Performance</h2>
                    <p class="text-xs text-slate-500 font-bold uppercase tracking-widest">Vertical Lifting</p>
                </div>
                <i data-lucide="dumbbell" class="text-blue-500 w-8 h-8"></i>
            </a>

            <a href="kitchen.html" class="module-card p-8 rounded-[2.5rem] flex items-center justify-between">
                <div>
                    <h2 class="text-2xl font-black uppercase italic">Kitchen</h2>
                    <p class="text-xs text-slate-500 font-bold uppercase tracking-widest">AI Fuel Logic</p>
                </div>
                <i data-lucide="utensils" class="text-green-500 w-8 h-8"></i>
            </a>

            <a href="tracker.html" class="module-card p-8 rounded-[2.5rem] flex items-center justify-between">
                <div>
                    <h2 class="text-2xl font-black uppercase italic">Tracker</h2>
                    <p class="text-xs text-slate-500 font-bold uppercase tracking-widest">Supply & Stats</p>
                </div>
                <i data-lucide="line-chart" class="text-orange-500 w-8 h-8"></i>
            </a>
        </div>
    </div>
</div>

<script>
    const { createApp } = Vue;
    const _powerhouse = supabase.createClient('https://mvoyrchefjcpjkdtezmz.supabase.co', 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im12b3lyY2hlZmpjcGprZHRlem16Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjgwNjkxNzksImV4cCI6MjA4MzY0NTE3OX0.o_dh0rMw0RPYWJjn3ssA6OkKY8udy5vhqVQzN50uvEQ');

    createApp({
        data() { return { session: null, auth: { email: '', password: '' } } },
        async mounted() {
            const { data: { session } } = await _powerhouse.auth.getSession();
            this.session = session;
            _powerhouse.auth.onAuthStateChange((_e, session) => { this.session = session; });
            lucide.createIcons();
        },
        methods: {
            async handleAuth() { await _powerhouse.auth.signInWithPassword(this.auth); },
            async signOut() { await _powerhouse.auth.signOut(); this.session = null; }
        }
    }).mount('#app');
</script>
</body>
</html>
